<html> <head> 
<style>
#box {
    position:absolute;
    left: 300px;
    top: 400px;
}

#bkgd {
    background-color: #8c023e;
    width: 100%;
    height: 100%;
}


</style>
</head> 

<body>


<div id="bkgd">
<div><img src="data:image/png;base64,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" id="box" alt="box" style="width:170px;height:170px;margin-left:15px;"></div>
<button type="button" id="pointer-lock-button" onclick="return pointerlock()">
          LOCK POINTER
        </button>

<button type="button" id="fullscreen-pointer-button" onclick="return fullscreen_pointerlock()">
          FULLSCREEN, LOCK POINTER
        </button>

<button type="button" id="pointer-fullscreen-button" onclick="return pointerlock_fullscreen()">
          LOCK POINTER, FULLSCREEN
        </button>


</div>
<script type="text/javascript">
  function logMouseMove(e) {
  if (moveMouse) {
    console.log('--- mouse event ---');
    console.log('clientX/Y' + e.clientX + ' ' + e.clientY);
    console.log('screenX/Y' + e.screenX + ' ' + e.screenY);
    console.log('movement: ' + e.movementX + ' ' + e.movementY);
    const box = document.getElementById('box');
    x += e.movementX;
    y += e.movementY;
    if (x < 0) 
      x = 0;
    if (x > window.innerWidth)
      x = window.innerWidth;
    if (y < 0) 
      y = 0;
    if (y > window.innerHeight)
      y = window.innerHeight;

    box.style.left= (x) + 'px';
    box.style.top= (y) + 'px';
    console.log('box: ' + box.style.left+ ' ' + box.style.top);
  }
}

function pointerlock_fullscreen() {
  document.getElementById('bkgd').requestPointerLock();
  document.getElementById('bkgd').webkitRequestFullScreen();
  return false;
}

function fullscreen_pointerlock() {
  document.getElementById('bkgd').webkitRequestFullScreen();
  document.getElementById('bkgd').requestPointerLock();
  return false;
}

function pointerlock() {
  document.getElementById('bkgd').requestPointerLock();
  return false;
}

function lockChange(event) {
  locked = (document.pointerLockElement) ? "YES" : "NO"
  console.log('--- lock event---' + locked +' ---');
  moveMouse = !moveMouse;
}

var x =0;
var y =0;
var moveMouse = false;
document.addEventListener("mousemove", logMouseMove, false);
document.addEventListener("pointerlockchange", lockChange, false);
console.log('added event listener');

</script>
</body>
</html>
